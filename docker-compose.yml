version: "3.8"

services:
  backend:
    container_name: estimation-backend
    build: 
      context: ./dotnet-estimation/dotnet-estimation/Templates/WebAPI
      dockerfile: ./Devon4Net.Application.WebAPI/Dockerfile
    networks:
      backend-net:
        aliases: [backend]
    ports:
      - 8085:8085
    
  frontend:
    container_name: estimation-frontend
    build:
      context: ./client
    networks:
      backend-net:
        aliases: [backend]
  reverse-proxy:
    build: ./reverse-proxy
    restart: always
    container_name: 'reverse_proxy'
    ports:
      - 80:80
    networks:
      backend-net:
        aliases: [backend]

networks:
  backend-net:
    driver: bridge
